{% extends "base_course.html" %}

{% block course_content %}
    <div class="row">
        <h1 class="col">课程列表</h1>
        <span class="col-auto">
            <a type="button" class="btn btn-primary" href="/course/">
                新增课程
            </a>
        </span>
    </div>

    <form>
        <div class="row container">
            <input type="search" class="form-control col gx-4" placeholder="搜索课程、老师" aria-label="search" name="s" id="searchInput">
            <button type="submit" class="btn btn-primary bi bi-search col-auto"></button>
        </div>
    </form>

    <table class="table table-hover">
        <thead>
        <tr>
            <th scope="col">名称</th>
            <th scope="col">评分</th>
            <th scope="col">类型</th>
            <th scope="col">教师</th>
            <th scope="col">院系</th>
        </tr>
        </thead>
        <tbody>
        {% for course in courses %}
            <tr onmousedown="window.location='/course/{{ course.id }}';" style="cursor: pointer">
                <td>{{ course.name }}</td>
                <td>
                    {% if course.rating %}
                        {{ course.rating | floatformat }} / 5
                    {% else %}
                        暂无评分
                    {% endif %}
                </td>
                <td>{{ course.get_classification_display }}</td>
                <td>{{ course.teacher.name }}</td>
                <td>{{ course.school }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <p style="font-size: small; text-align: center;">没有找到想要评价的课程? <a href="/course/">点击添加</a></p>

    <script>
        document.getElementById('searchInput').value = '{{ search_string }}'
    </script>
{% endblock %}
